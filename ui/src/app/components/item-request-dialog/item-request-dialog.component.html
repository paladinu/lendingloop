<h2 mat-dialog-title>Request {{ data.itemName }}</h2>

<mat-dialog-content>
    <p>Add an optional message and expected return date for your request.</p>
    
    <mat-form-field appearance="outline" class="full-width">
        <mat-label>Message (optional)</mat-label>
        <textarea
            matInput
            [(ngModel)]="message"
            placeholder="e.g., I need this for a weekend project..."
            rows="4"
            [maxlength]="maxLength"
        ></textarea>
        <mat-hint align="end">
            {{ remainingCharacters }} characters remaining
        </mat-hint>
        <mat-error *ngIf="isMessageTooLong">
            Message cannot exceed {{ maxLength }} characters
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
        <mat-label>Expected Return Date (optional)</mat-label>
        <input
            matInput
            [matDatepicker]="picker"
            [(ngModel)]="expectedReturnDate"
            [min]="minDate"
            placeholder="MM/DD/YYYY"
        >
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-hint>When do you plan to return this item?</mat-hint>
    </mat-form-field>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button 
        mat-raised-button 
        color="primary" 
        (click)="onSubmit()"
        [disabled]="isMessageTooLong"
    >
        Send Request
    </button>
</mat-dialog-actions>
